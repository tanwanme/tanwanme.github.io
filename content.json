[{"title":"Dockeræ–¹å¼éƒ¨ç½²Hexo","slug":"a","date":"2018-09-03T11:38:00.000Z","updated":"2024-09-24T13:01:38.243Z","comments":true,"path":"2018/09/03/a/","link":"","permalink":"https://kzdd.us.kg/2018/09/03/a/","excerpt":"","text":"å‰æœŸå‡†å¤‡å·¥ä½œå‡†å¤‡ä¸€å°Linuxæ“ä½œç³»ç»Ÿçš„æœåŠ¡å™¨ï¼ˆæœ¬æ–‡ä»¥Debianä¸ºä¾‹ï¼‰ æ›´æ–°è½¯ä»¶åŒ…å¹¶å®‰è£…curlå’Œnanoæ–‡æœ¬ç¼–è¾‘å™¨ apt-get update &amp;&amp; apt install curl nano å¼€å¯sshè½¯ä»¶ç™»å½•æ‰‹åŠ¨å¼€å¯rootç™»å½•sshnano /etc/ssh/sshd_config æ‰¾åˆ° PermitRootLogin prohibit-password ä¿®æ”¹ä¸º PermitRootLogin yes æ‰¾åˆ° PasswordAuthentication no ä¿®æ”¹ä¸º PasswordAuthentication yesï¼ˆåˆ«å¿˜äº†å»æ‰å‰é¢çš„#å·ï¼Œä½¿å…¶ç”Ÿæ•ˆï¼‰ å¦‚æœ root è´¦æˆ·è¿˜æ²¡æœ‰å¯†ç ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤ä¸º root è´¦æˆ·è®¾ç½®å¯†ç ï¼š sudo passwd root ä¸ºäº†ä½¿æ›´æ”¹ç”Ÿæ•ˆï¼Œéœ€è¦é‡æ–°å¯åŠ¨ SSH æœåŠ¡ï¼š systemctl restart ssh ä¸€é”®å¼€å¯rootç™»å½•sshwget -q root.sh https://raw.githubusercontent.com/passeway/root/main/root.sh &amp;&amp; chmod +x root.sh &amp;&amp; ./root.sh å®‰è£…dockerä¸€é”®å®‰è£…è„šæœ¬curl -fsSL https://get.docker.com | bash -s docker å®˜æ–¹è‡ªå¸¦docker composeå‘½ä»¤ï¼Œæˆ‘åé¢è¿˜æ˜¯å•ç‹¬å®‰è£…äº†docker-composeä½¿ç”¨ï¼Œä¹ æƒ¯äº† ä½ å¦‚æœæ²¡æœ‰å®‰è£…docker-composeï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨è‡ªå¸¦çš„docker composeï¼Œ åé¢æ‰§è¡Œbashå‘½ä»¤æ—¶æ³¨æ„æ˜¯docker composeè€Œä¸æ˜¯docker-compose. æ‰§è¡Œå‘½ä»¤æ—¶å€™ä¹Ÿæ²¡æœ‰è¿™ä¸ª-æ  å¯åœ¨æ­¤å‘½ä»¤åé™„å¸¦--mirrorå‚æ•°è®¾ç½®é•œåƒæºï¼Œä»¥æé«˜å›½å†…æœåŠ¡å™¨ä¸‹è½½dockerçš„é€Ÿåº¦ å¦‚ä½¿ç”¨é˜¿é‡Œäº‘é•œåƒ: curl -fsSL https://get.docker.com | bash -s docker --mirror Aliyun éƒ¨ç½²hexoå®‰è£…hexo åˆ›å»ºæœ¬åœ°hexoå®¹å™¨ç›®å½• mkdir -p /root/data/docker/hexo &amp;&amp; cd /root/data/docker/hexo åˆ›å»ºhexoçš„docker-compose.yml nano docker-compose.yml å¤åˆ¶ä»¥ä¸‹å†…å®¹å¡«å†™è¿›å» version: &#39;3.0&#39; services: hexo: container_name: hexo restart: always environment: - HEXO_SERVER_PORT=4000 # å®‰è£…äº† git, æœ‰éœ€è¦çš„åŒå­¦å¯ä»¥ä¿®æ”¹ - GIT_USER=github_name # æ”¹æˆè‡ªå·±çš„ç”¨æˆ·åï¼Œå¯ä»¥éšä¾¿å†™ä¸€ä¸ª - GIT_EMAIL=xxxx@gmail.com # æ”¹æˆè‡ªå·±çš„é‚®ç®±ï¼Œå¯ä»¥éšä¾¿å†™ä¸€ä¸ª - TZ=Asia/Shanghai volumes: - &#39;./blog:/app&#39; ports: - &#39;8889:4000&#39; # å†’å·å·¦è¾¹å¯ä»¥æ”¹æˆè‡ªå·±æœåŠ¡å™¨æœªè¢«å ç”¨çš„ç«¯å£ image: spurin/hexo command: sh -c &quot;hexo clean &amp;&amp; hexo g&quot; æŒ‰ Ctrl + O ä¿å­˜æ–‡ä»¶ã€‚æŒ‰ Enter ç¡®è®¤ä¿å­˜æ–‡ä»¶åã€‚æŒ‰ Ctrl + X é€€å‡º nanoã€‚ å¯åŠ¨å®¹å™¨ up æ˜¯å¯åŠ¨å®¹å™¨, -d è¡¨ç¤ºåå°å¯åŠ¨ docker-compose up -d æµè§ˆå™¨æ‰“å¼€http://ä½ çš„æœåŠ¡å™¨ipæˆ–åŸŸå:8889 8889æ˜¯ä½ ä¹‹å‰docker-compose.ymlä¸­è®¾ç½®çš„ç«¯å£ å®‰è£…keepä¸»é¢˜XPoet/hexo-theme-keep: :rainbowï¼šä¸€æ¬¾ç®€å•è½»å¿«çš„ Hexo ä¸»é¢˜ã€‚å®ƒèƒ½è®©ä½ æ›´ä¸“æ³¨äºå†™ä½œã€‚(github.com) cd /root/data/docker/hexo/blog &amp;&amp; git clone https://github.com/XPoet/hexo-theme-keep.git themes/keep cp /root/data/docker/hexo/blog/themes/keep/_config.yml /root/data/docker/hexo/blog/_config.keep.yml åˆ‡æ¢ä¸»é¢˜ æ‰“å¼€ Hexo /blog/_config.ymlé…ç½®æ–‡ä»¶ï¼Œå°† theme å˜é‡è®¾ç½®ä¸º keep ã€‚ cd /root/data/docker/hexo/blog &amp;&amp; nano _config.yml æ‰¾åˆ°theme: landscapeä¿®æ”¹ä¸ºtheme: keep theme: keep æŒ‰ Ctrl + X ä¿å­˜æ–‡ä»¶ã€‚æŒ‰ Y ç¡®è®¤ä¿®æ”¹ã€‚æŒ‰ Enteré€€å‡º nanoã€‚ ä½¿ä¸»é¢˜ç”Ÿæ•ˆ docker exec -it hexo bash ##è¿›å…¥hexoå®¹å™¨å†…éƒ¨ npm install hexo-admin --save ##å®‰è£…adminåå°ç®¡ç†æ’ä»¶ hexo clean &amp;&amp; hexo g ##æ¸…é™¤ç¼“å­˜å¹¶é‡æ–°ç”Ÿæˆç½‘é¡µ exit ##é€€å‡ºå®¹å™¨ docker-compose restart hexo ##é‡å¯hexoå®¹å™¨å†…éƒ¨ æµè§ˆå™¨æ‰“å¼€http://ä½ çš„æœåŠ¡å™¨ipæˆ–åŸŸå:8889é¢„è§ˆæ–°ä¸»é¢˜ 8889æ˜¯ä½ ä¹‹å‰docker-compose.ymlä¸­è®¾ç½®çš„ç«¯å£ ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶_config.keep.yml ä¿®æ”¹hexoé…ç½®æ–‡ä»¶_config.yml","categories":[],"tags":[],"author":"Tanwan"},{"title":"Hexoéƒ¨ç½²åˆ°github page","slug":"hello-world","date":"2018-09-02T09:39:00.000Z","updated":"2024-09-24T10:33:12.662Z","comments":true,"path":"2018/09/02/hello-world/","link":"","permalink":"https://kzdd.us.kg/2018/09/02/hello-world/","excerpt":"","text":"éƒ¨ç½²Github å»ºç«‹Repositoryå»ºç«‹ä¸ä½ ç”¨æˆ·åå¯¹åº”çš„ä»“åº“åå¿…é¡»ä¸ºã€tanwanme.github.ioã€‘ï¼Œå›ºå®šå†™æ³•ã€‚ ï¼ˆtanwanmeæ¢æˆä½ çš„githubç”¨æˆ·åï¼‰ å»ºç«‹å…³è”ä¿®æ”¹d/Hexo/_config.yml deploy: type: git repository: git@github.com:tanwanme/tanwanme.github.io.git branch: master é…ç½®SSh keyè¾“å…¥ä»¥ä¸‹å‘½ä»¤,è¿™ä¸ªé‚®ç®±æ˜¯ä½ å½“æ—¶æ³¨å†Œgithubæ—¶æ‰€ç”¨çš„é‚®ç®±ã€‚ ssh-keygen -t rsa -C &quot;6265911@qq.com&quot; ç„¶åä¼šè¦æ±‚ä½ å¡«å†™passphraseï¼Œä¸€è·¯å›è½¦å³å¯ã€‚Enter file in which to save the key (/Users/your_user_directory/.ssh/id_rsa)ï¼ˆå›è½¦å°±å¥½ï¼‰ï¼ŒEnter passphrase (empty for no passphrase):ï¼ˆå›è½¦ï¼Œä¸éœ€è¦è¾“å…¥å¯†ç ï¼‰Enter same passphrase again:ï¼ˆå›è½¦ä¸éœ€è¦è¾“å…¥å¯†ç ï¼‰æ³¨æ„ï¼š å› ä¸ºHexoçš„è‡ªåŠ¨éƒ¨ç½²å¦‚æœè®¾ç½®äº†å¯†ç çš„è¯ä¼šéƒ¨ç½²å¤±è´¥ ç»§ç»­æ‰§è¡Œä¸€ä¸‹å‘½ä»¤ ssh-agent -s ssh-add ~/.ssh/id_rsa clip &lt; ~/.ssh/id_rsa.pub é”®å…¥ä»¥ä¸Šæœ€åä¸€æ¡æŒ‡ä»¤ï¼Œæ‹·è´Keyï¼ˆå…ˆæ‹·è´äº†ï¼Œç­‰ä¸€ä¸‹å¯ä»¥ç›´æ¥ç²˜è´´ï¼‰ åˆ°äº†è¿™ä¸€æ­¥ï¼Œå°±å¯ä»¥æ·»åŠ SSH keyåˆ°ä½ çš„Githubè´¦æˆ·äº†ã€‚ github-sshkey github-sshkey æ·»åŠ å¥½sshåï¼Œå›åˆ°Gitç»§ç»­è¾“å…¥ git config --global user.name &quot;tanwanme&quot; git config --global user.email &quot;10086@qq.com&quot; æäº¤åˆ°githubhexo clean &amp;&amp; hexo g &amp;&amp; hexo d Gitï¼šå°†æœ¬åœ°é¡¹ç›®ä¸Šä¼ åˆ°Githubä¾‹å¦‚tanwanme/indigoè¿™ä¸ªä»“åº“ï¼Œå…‹éš†åˆ°æœ¬åœ°git-uploadè¿™ä¸ªæ–‡ä»¶å¤¹ git clone https://github.com/tanwanme/indigo.git git-upload è¿›å…¥è¿™ä¸ªgit-upload indigoè¿™ä¸ªæ–‡ä»¶å¤¹ï¼Œä¿®æ”¹é‡Œé¢ä½ éœ€è¦ä¸Šä¼ åˆ°githubçš„å†…å®¹ï¼ˆä¿ç•™.githubè¿™ä¸ªæ–‡ä»¶å¤¹ï¼‰ cd git-upload/indigo æ¥ä¸‹æ¥ä¾æ¬¡è¾“å…¥ä»¥ä¸‹ä»£ç å³å¯å®Œæˆå…¶ä»–å‰©ä½™æ“ä½œï¼š git add . ï¼ˆæ³¨ï¼šåˆ«å¿˜äº†æœ‰ä¸ª . æ­¤æ“ä½œæ˜¯æŠŠindigoæ–‡ä»¶å¤¹ä¸‹é¢çš„æ–‡ä»¶éƒ½æ·»åŠ è¿›æ¥ï¼‰ git commit -m &quot;myself&quot; ï¼ˆæ³¨ï¼šâ€œmyselfâ€é‡Œé¢æ¢æˆä½ éœ€è¦æ˜¾ç¤ºåœ¨githubçš„æäº¤æè¿°,å¦‚â€œfirst commitâ€ã€&quot;ç¬¬ä¸€æ¬¡æäº¤&quot;ç­‰ï¼‰ git push -u origin main ï¼ˆæ³¨ï¼šæ­¤æ“ä½œç›®çš„æ˜¯æŠŠæœ¬åœ°ä»“åº“pushåˆ°githubä¸Šé¢çš„mainåˆ†æ”¯ï¼Œæ­¤æ­¥éª¤éœ€è¦ä½ è¾“å…¥å¸å·å’Œå¯†ç ï¼‰ Markdownæ–‡æœ¬ç¼–è¾‘å™¨æ¨èä¸€ä¸ªå°æ¸…æ–°ç¼–è¾‘å™¨Typora.","categories":[],"tags":[]},{"title":"Hexo windowså®‰è£…éƒ¨ç½²","slug":"Hexo-windowså®‰è£…éƒ¨ç½²","date":"2018-09-01T12:58:00.000Z","updated":"2024-09-24T11:04:59.457Z","comments":true,"path":"2018/09/01/Hexo-windowså®‰è£…éƒ¨ç½²/","link":"","permalink":"https://kzdd.us.kg/2018/09/01/Hexo-windows%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2/","excerpt":"","text":"å‰æå®‰è£… Hexo ç›¸å½“ç®€å•ã€‚ç„¶è€Œåœ¨å®‰è£…å‰ï¼Œæ‚¨å¿…é¡»æ£€æŸ¥ç”µè„‘ä¸­æ˜¯å¦å·²å®‰è£…ä¸‹åˆ—åº”ç”¨ç¨‹åºï¼š Node.js Git å¦‚æœæ‚¨çš„ç”µè„‘ä¸­å·²ç»å®‰è£…ä¸Šè¿°å¿…å¤‡ç¨‹åºï¼Œé‚£ä¹ˆæ­å–œæ‚¨ï¼æ¥ä¸‹æ¥åªéœ€è¦ä½¿ç”¨ npm å³å¯å®Œæˆ Hexo çš„å®‰è£…ã€‚ ä¸»ç¨‹åºå®‰è£…cd D:/Hexo cdåˆ°ä½ éœ€è¦å®‰è£…hexoçš„ç›®å½•ä¸‹ï¼Œè¿™é‡Œæ˜¯ç¤ºèŒƒå®‰è£…åˆ°æœ¬åœ°Dç›˜çš„Hexoç›®å½•ä¸‹ npm install -g hexo-cli hexo init npm i hexo@4.2.1 npm install npm uninstall hexo-renderer-marked --save npm install hexo-renderer-kramed --save npm install hexo-deployer-git --save npm install hexo-generator-feed --save npm install hexo-generator-json-content --save npm install hexo-renderer-less --save npm install hexo-admin --save æµ‹è¯•ï¼šhexo clean &amp;&amp; hexo g &amp;&amp; hexo s æµè§ˆå™¨æ‰“å¼€http://localhost:4000 é¡µé¢å‡ºç°å†…å®¹Hello worldå³å®Œæˆå®‰è£…ã€‚ hexoå¸¸ç”¨æŒ‡ä»¤hexo new title -åˆ›å»ºä¸€ä¸ªæ–°æ–‡ç«  hexo g -éƒ¨ç½²ç½‘ç«™ hexo s -å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨ hexo clean -æ¸…é™¤ç¼“å­˜æ–‡ä»¶ hexo d -æäº¤åˆ°æœåŠ¡å™¨ï¼ˆéœ€è¦åç»­ç»‘å®šï¼‰ ä¸»é¢˜å®‰è£…hexo-theme-Indigoæœ¬é¡¹ç›®å‚ç…§ yscoder/hexo-theme-indigo: ä¸€ä¸ªMaterial Designé£æ ¼çš„Hexoä¸»é¢˜ (github.com) abelsu7/hexo-theme-indigo-plus: ğŸ’¾hexo-theme-indigo ä¸»é¢˜ä¼˜åŒ–ç‰ˆ (github.com) git clone https://github.com/tanwanme/indigo.git themes/indigo ä¿®æ”¹ Hexo é…ç½®æ–‡ä»¶æ­¤æ—¶åº”è¯¥åœ¨ Hexo çš„æ ¹ç›®å½•(d/Hexo/). ç¼–è¾‘ _config.yml è¿™ä¸ªæ–‡æ¡£. æ­¤æ–‡æ¡£åŒ…å«ç½‘ç«™è¯¸å¦‚ ç«™å, ç«™é•¿å, é‚®ç®±, ç®€ä»‹ç­‰ç­‰å„ç§é…ç½®. title: çš“æœˆå½“ç©ºäº‘å½’éš subtitle: æˆ‘ç«™åœ¨é˜³å°æŠ½çƒŸï¼Œæˆ‘æŠ½ä¸€åŠï¼Œé£æŠ½ä¸€åŠã€‚ description: &#39;è®°å½•æˆ‘è‡ªå·±æŠ˜è…¾è¿‡ç¨‹.&#39; keywords: hexo,indigo author: Tanwan language: zh_CN timezone: &#39;Asia/Shanghai&#39; url: https://kzdd.us.kg theme: indigo jsonContent: meta: false pages: false posts: title: true date: true path: true text: true raw: false content: false slug: false updated: false comments: false link: false permalink: false excerpt: false categories: false tags: true feed: type: atom path: atom.xml limit: 0 æ„å»ºæ–°ç½‘ç«™å†…å®¹hexo clean &amp;&amp; hexo g &amp;&amp; hexo s æµè§ˆå™¨æ‰“å¼€http://localhost:4000æŸ¥çœ‹æ˜¯å¦æ›´æ–°æˆåŠŸã€‚ éƒ¨ç½²Githubå»ºç«‹Repositoryå»ºç«‹ä¸ä½ ç”¨æˆ·åå¯¹åº”çš„ä»“åº“åå¿…é¡»ä¸ºã€tanwanme.github.ioã€‘ï¼Œå›ºå®šå†™æ³•ã€‚ ï¼ˆtanwanmeæ¢æˆä½ çš„githubç”¨æˆ·åï¼‰ å»ºç«‹å…³è”ä¿®æ”¹d/Hexo/_config.yml deploy: type: git repository: git@github.com:tanwanme/tanwanme.github.io.git branch: master é…ç½®SSh keyè¾“å…¥ä»¥ä¸‹å‘½ä»¤,è¿™ä¸ªé‚®ç®±æ˜¯ä½ å½“æ—¶æ³¨å†Œgithubæ—¶æ‰€ç”¨çš„é‚®ç®±ã€‚ ssh-keygen -t rsa -C &quot;10086@qq.com&quot; ç„¶åä¼šè¦æ±‚ä½ å¡«å†™passphraseï¼Œä¸€è·¯å›è½¦å³å¯ã€‚Enter file in which to save the key (/Users/your_user_directory/.ssh/id_rsa)ï¼ˆå›è½¦å°±å¥½ï¼‰ï¼ŒEnter passphrase (empty for no passphrase):ï¼ˆå›è½¦ï¼Œä¸éœ€è¦è¾“å…¥å¯†ç ï¼‰Enter same passphrase again:ï¼ˆå›è½¦ä¸éœ€è¦è¾“å…¥å¯†ç ï¼‰æ³¨æ„ï¼š å› ä¸ºHexoçš„è‡ªåŠ¨éƒ¨ç½²å¦‚æœè®¾ç½®äº†å¯†ç çš„è¯ä¼šéƒ¨ç½²å¤±è´¥ ç»§ç»­æ‰§è¡Œä¸€ä¸‹å‘½ä»¤ ssh-agent -s ssh-add ~/.ssh/id_rsa clip &lt; ~/.ssh/id_rsa.pub é”®å…¥ä»¥ä¸Šæœ€åä¸€æ¡æŒ‡ä»¤ï¼Œæ‹·è´Keyï¼ˆå…ˆæ‹·è´äº†ï¼Œç­‰ä¸€ä¸‹å¯ä»¥ç›´æ¥ç²˜è´´ï¼‰ åˆ°äº†è¿™ä¸€æ­¥ï¼Œå°±å¯ä»¥æ·»åŠ SSH keyåˆ°ä½ çš„Githubè´¦æˆ·äº†ã€‚ github-sshkey github-sshkey æ·»åŠ å¥½sshåï¼Œå›åˆ°Gitç»§ç»­è¾“å…¥ git config --global user.name &quot;tanwanme&quot; git config --global user.email &quot;10086@qq.com&quot; ç°åœ¨æœ¬åœ°å†™å¥½å°±èƒ½æäº¤åˆ°githubäº†hexo clean &amp;&amp; hexo g &amp;&amp; hexo d Markdownæ–‡æœ¬ç¼–è¾‘å™¨æ¨èä¸€ä¸ªå°æ¸…æ–°ç¼–è¾‘å™¨Typora.","categories":[],"tags":[],"author":"Tanwan"}]