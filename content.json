[{"title":"Docker方式部署Hexo","slug":"a","date":"2018-09-03T11:38:00.000Z","updated":"2024-09-24T13:01:38.243Z","comments":true,"path":"2018/09/03/a/","link":"","permalink":"https://kzdd.us.kg/2018/09/03/a/","excerpt":"","text":"前期准备工作准备一台Linux操作系统的服务器（本文以Debian为例） 更新软件包并安装curl和nano文本编辑器 apt-get update &amp;&amp; apt install curl nano 开启ssh软件登录手动开启root登录sshnano /etc/ssh/sshd_config 找到 PermitRootLogin prohibit-password 修改为 PermitRootLogin yes 找到 PasswordAuthentication no 修改为 PasswordAuthentication yes（别忘了去掉前面的#号，使其生效） 如果 root 账户还没有密码，可以通过以下命令为 root 账户设置密码： sudo passwd root 为了使更改生效，需要重新启动 SSH 服务： systemctl restart ssh 一键开启root登录sshwget -q root.sh https://raw.githubusercontent.com/passeway/root/main/root.sh &amp;&amp; chmod +x root.sh &amp;&amp; ./root.sh 安装docker一键安装脚本curl -fsSL https://get.docker.com | bash -s docker 官方自带docker compose命令，我后面还是单独安装了docker-compose使用，习惯了 你如果没有安装docker-compose，可以直接使用自带的docker compose， 后面执行bash命令时注意是docker compose而不是docker-compose. 执行命令时候也没有这个-杠 可在此命令后附带--mirror参数设置镜像源，以提高国内服务器下载docker的速度 如使用阿里云镜像: curl -fsSL https://get.docker.com | bash -s docker --mirror Aliyun 部署hexo安装hexo 创建本地hexo容器目录 mkdir -p /root/data/docker/hexo &amp;&amp; cd /root/data/docker/hexo 创建hexo的docker-compose.yml nano docker-compose.yml 复制以下内容填写进去 version: &#39;3.0&#39; services: hexo: container_name: hexo restart: always environment: - HEXO_SERVER_PORT=4000 # 安装了 git, 有需要的同学可以修改 - GIT_USER=github_name # 改成自己的用户名，可以随便写一个 - GIT_EMAIL=xxxx@gmail.com # 改成自己的邮箱，可以随便写一个 - TZ=Asia/Shanghai volumes: - &#39;./blog:/app&#39; ports: - &#39;8889:4000&#39; # 冒号左边可以改成自己服务器未被占用的端口 image: spurin/hexo command: sh -c &quot;hexo clean &amp;&amp; hexo g&quot; 按 Ctrl + O 保存文件。按 Enter 确认保存文件名。按 Ctrl + X 退出 nano。 启动容器 up 是启动容器, -d 表示后台启动 docker-compose up -d 浏览器打开http://你的服务器ip或域名:8889 8889是你之前docker-compose.yml中设置的端口 安装keep主题XPoet/hexo-theme-keep: :rainbow：一款简单轻快的 Hexo 主题。它能让你更专注于写作。(github.com) cd /root/data/docker/hexo/blog &amp;&amp; git clone https://github.com/XPoet/hexo-theme-keep.git themes/keep cp /root/data/docker/hexo/blog/themes/keep/_config.yml /root/data/docker/hexo/blog/_config.keep.yml 切换主题 打开 Hexo /blog/_config.yml配置文件，将 theme 变量设置为 keep 。 cd /root/data/docker/hexo/blog &amp;&amp; nano _config.yml 找到theme: landscape修改为theme: keep theme: keep 按 Ctrl + X 保存文件。按 Y 确认修改。按 Enter退出 nano。 使主题生效 docker exec -it hexo bash ##进入hexo容器内部 npm install hexo-admin --save ##安装admin后台管理插件 hexo clean &amp;&amp; hexo g ##清除缓存并重新生成网页 exit ##退出容器 docker-compose restart hexo ##重启hexo容器内部 浏览器打开http://你的服务器ip或域名:8889预览新主题 8889是你之前docker-compose.yml中设置的端口 修改主题配置文件_config.keep.yml 修改hexo配置文件_config.yml","categories":[],"tags":[],"author":"Tanwan"},{"title":"Hexo部署到github page","slug":"hello-world","date":"2018-09-02T09:39:00.000Z","updated":"2024-09-24T10:33:12.662Z","comments":true,"path":"2018/09/02/hello-world/","link":"","permalink":"https://kzdd.us.kg/2018/09/02/hello-world/","excerpt":"","text":"部署Github 建立Repository建立与你用户名对应的仓库名必须为【tanwanme.github.io】，固定写法。 （tanwanme换成你的github用户名） 建立关联修改d/Hexo/_config.yml deploy: type: git repository: git@github.com:tanwanme/tanwanme.github.io.git branch: master 配置SSh key输入以下命令,这个邮箱是你当时注册github时所用的邮箱。 ssh-keygen -t rsa -C &quot;6265911@qq.com&quot; 然后会要求你填写passphrase，一路回车即可。Enter file in which to save the key (/Users/your_user_directory/.ssh/id_rsa)（回车就好），Enter passphrase (empty for no passphrase):（回车，不需要输入密码）Enter same passphrase again:（回车不需要输入密码）注意： 因为Hexo的自动部署如果设置了密码的话会部署失败 继续执行一下命令 ssh-agent -s ssh-add ~/.ssh/id_rsa clip &lt; ~/.ssh/id_rsa.pub 键入以上最后一条指令，拷贝Key（先拷贝了，等一下可以直接粘贴） 到了这一步，就可以添加SSH key到你的Github账户了。 github-sshkey github-sshkey 添加好ssh后，回到Git继续输入 git config --global user.name &quot;tanwanme&quot; git config --global user.email &quot;10086@qq.com&quot; 提交到githubhexo clean &amp;&amp; hexo g &amp;&amp; hexo d Git：将本地项目上传到Github例如tanwanme/indigo这个仓库，克隆到本地git-upload这个文件夹 git clone https://github.com/tanwanme/indigo.git git-upload 进入这个git-upload indigo这个文件夹，修改里面你需要上传到github的内容（保留.github这个文件夹） cd git-upload/indigo 接下来依次输入以下代码即可完成其他剩余操作： git add . （注：别忘了有个 . 此操作是把indigo文件夹下面的文件都添加进来） git commit -m &quot;myself&quot; （注：“myself”里面换成你需要显示在github的提交描述,如“first commit”、&quot;第一次提交&quot;等） git push -u origin main （注：此操作目的是把本地仓库push到github上面的main分支，此步骤需要你输入帐号和密码） Markdown文本编辑器推荐一个小清新编辑器Typora.","categories":[],"tags":[]},{"title":"Hexo windows安装部署","slug":"Hexo-windows安装部署","date":"2018-09-01T12:58:00.000Z","updated":"2024-09-24T11:04:59.457Z","comments":true,"path":"2018/09/01/Hexo-windows安装部署/","link":"","permalink":"https://kzdd.us.kg/2018/09/01/Hexo-windows%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2/","excerpt":"","text":"前提安装 Hexo 相当简单。然而在安装前，您必须检查电脑中是否已安装下列应用程序： Node.js Git 如果您的电脑中已经安装上述必备程序，那么恭喜您！接下来只需要使用 npm 即可完成 Hexo 的安装。 主程序安装cd D:/Hexo cd到你需要安装hexo的目录下，这里是示范安装到本地D盘的Hexo目录下 npm install -g hexo-cli hexo init npm i hexo@4.2.1 npm install npm uninstall hexo-renderer-marked --save npm install hexo-renderer-kramed --save npm install hexo-deployer-git --save npm install hexo-generator-feed --save npm install hexo-generator-json-content --save npm install hexo-renderer-less --save npm install hexo-admin --save 测试：hexo clean &amp;&amp; hexo g &amp;&amp; hexo s 浏览器打开http://localhost:4000 页面出现内容Hello world即完成安装。 hexo常用指令hexo new title -创建一个新文章 hexo g -部署网站 hexo s -启动本地服务器 hexo clean -清除缓存文件 hexo d -提交到服务器（需要后续绑定） 主题安装hexo-theme-Indigo本项目参照 yscoder/hexo-theme-indigo: 一个Material Design风格的Hexo主题 (github.com) abelsu7/hexo-theme-indigo-plus: 💾hexo-theme-indigo 主题优化版 (github.com) git clone https://github.com/tanwanme/indigo.git themes/indigo 修改 Hexo 配置文件此时应该在 Hexo 的根目录(d/Hexo/). 编辑 _config.yml 这个文档. 此文档包含网站诸如 站名, 站长名, 邮箱, 简介等等各种配置. title: 皓月当空云归隐 subtitle: 我站在阳台抽烟，我抽一半，风抽一半。 description: &#39;记录我自己折腾过程.&#39; keywords: hexo,indigo author: Tanwan language: zh_CN timezone: &#39;Asia/Shanghai&#39; url: https://kzdd.us.kg theme: indigo jsonContent: meta: false pages: false posts: title: true date: true path: true text: true raw: false content: false slug: false updated: false comments: false link: false permalink: false excerpt: false categories: false tags: true feed: type: atom path: atom.xml limit: 0 构建新网站内容hexo clean &amp;&amp; hexo g &amp;&amp; hexo s 浏览器打开http://localhost:4000查看是否更新成功。 部署Github建立Repository建立与你用户名对应的仓库名必须为【tanwanme.github.io】，固定写法。 （tanwanme换成你的github用户名） 建立关联修改d/Hexo/_config.yml deploy: type: git repository: git@github.com:tanwanme/tanwanme.github.io.git branch: master 配置SSh key输入以下命令,这个邮箱是你当时注册github时所用的邮箱。 ssh-keygen -t rsa -C &quot;10086@qq.com&quot; 然后会要求你填写passphrase，一路回车即可。Enter file in which to save the key (/Users/your_user_directory/.ssh/id_rsa)（回车就好），Enter passphrase (empty for no passphrase):（回车，不需要输入密码）Enter same passphrase again:（回车不需要输入密码）注意： 因为Hexo的自动部署如果设置了密码的话会部署失败 继续执行一下命令 ssh-agent -s ssh-add ~/.ssh/id_rsa clip &lt; ~/.ssh/id_rsa.pub 键入以上最后一条指令，拷贝Key（先拷贝了，等一下可以直接粘贴） 到了这一步，就可以添加SSH key到你的Github账户了。 github-sshkey github-sshkey 添加好ssh后，回到Git继续输入 git config --global user.name &quot;tanwanme&quot; git config --global user.email &quot;10086@qq.com&quot; 现在本地写好就能提交到github了hexo clean &amp;&amp; hexo g &amp;&amp; hexo d Markdown文本编辑器推荐一个小清新编辑器Typora.","categories":[],"tags":[],"author":"Tanwan"}]